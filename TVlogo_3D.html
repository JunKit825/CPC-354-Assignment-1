<!DOCTYPE html>
<html lang="en">

<head>
	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Roboto+Condensed:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
	<title>3D TV Logo Animation</title>

	<!-- Link CSS, JS, and WebGL -->
	<!-- webgl-utils.js	: standard utilities from Google to set up a WebGL context -->
	<!-- initShaders.js	: contains helper functions to compile and link WebGL shaders to the application -->
	<!-- MV.js			: provides matrix and vector manipulation functions APIs for WebGL -->
	<!-- DemoJS.js		: your JS file -->
	<!-- DemoCSS.css	: your CSS file -->
	<script type="text/javascript" src="Common/webgl-utils.js"></script>
	<script type="text/javascript" src="Common/initShaders.js"></script>
	<script type="text/javascript" src="Common/MV.js"></script>

  <script src="https://cdn.jsdelivr.net/gh/frenchtoast747/webgl-obj-loader@master/dist/webgl-obj-loader.min.js"></script>

	<link rel="stylesheet" type="text/css" href="ProjectStyle.css">

	<script src="https://cdn.jsdelivr.net/npm/opentype.js@latest/dist/opentype.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/earcut@2.2.4/dist/earcut.min.js"></script>

	<!-- Define the vertex shader -->
	<script id="vertex-shader" type="x-shader/x-vertex">
		// Declare the global variable(s) for draw calls
		uniform mat4 projectionMatrix;
		uniform mat4 modelViewMatrix;
		
		// Declare the input variable(s) to receive per-vertex data from the application
		attribute vec4 vPosition;
		attribute vec4 vColor;
		
		// Declare the varying variable(s) to pass data to the fragment shader
		varying vec4 fColor;

		void main()
		{
			gl_Position = projectionMatrix * modelViewMatrix * vPosition;
			fColor = vColor;
		}
	</script>

	<!-- Define the fragment shader -->
	<script id="fragment-shader" type="x-shader/x-fragment">
		precision mediump float;
		varying vec4 fColor;

		void main()
		{
			gl_FragColor = fColor;
		}
	</script>
</head>

<body>
	<div class="canva-slider">
		<!-- Added to solve load logo problem -->
		<div class="input-logo">
			<input type="text" id="userText" value="YSQD" maxlength="4"/>
			<button id="generate-btn" onclick="loadLogo(); resetValue(); recompute();">Generate 3D Logo</button>
		</div>

		<!-- Canvas for the graphic rendering -->
		<div class="canvas">
			<canvas id="gl-canvas">
				Error: your browser doesn't support the HTML5 canvas element
			</canvas>
		</div>

		<div class="slider-bar">
			<!-- Div for iteration slider -->
			<div class="iteration-slider-container">
				<input class="iteration-slider-class" id="iteration-slider" type="range" min="1" max="5" step="1" value="1" />
				<p>Iteration: <span id="iteration-value"></span></p>
			</div>

			<!-- Div for depth slider -->
			<div class="depth-slider-container">
				<input class="depth-slider-class" id="depth-slider" type="range" min="1" max="5" step="1" value="1" />
				<p>Depth: <span id="depth-value"></span></p>
			</div>

			<!-- Div for speed slider -->
			<div class="speed-slider-container">
				<input class="speed-slider-class" id="speed-slider" type="range" min="1" max="5" step="1" value="1" />
				<p>Speed: <span id="speed-value"></span></p>
			</div>
		</div>

		<!-- Div for color picker -->
		<div class="color-picker-container">
			<label for="color-picker">Color:</label>
			<input type="color" value="#ff0000" id="color-picker" onchange="getColor(event)"/>
			<ul id="color-list"></ul>
		</div>
	</div>

	<!-- Div for the side edit plane -->
  <div class="operation-plane">
	<!-- UPPER SECTION: Scrollable Transition Set Manager -->
	<div class="operation-upper">
		<h3 style="margin: 0 0 10px 0; text-align: center;">Animation Set Manager</h3>
		
		<!-- Add Transition Set button -->
		<div class="transition-button-container">
		  <button class="add-transition-button" onclick="addTask()">Add Animation</button>
		</div>
		
		<!-- Container for preset transitions (scrollable) -->
		<div class="transition-list">
		  <!-- Preset transition sets will be dynamically added here -->
		</div>
		
		<!-- Get Selected Value button at bottom of upper section -->
		<div class="transition-button-container" style="margin-top: auto; padding-top: 10px;">
		  <button id="selected-transition">Apply Animation</button>
		</div>
	  </div>
	
	  <!-- DIVIDER LINE -->
	  <div class="operation-divider"></div>
	
	  <!-- LOWER SECTION: Current Animation Control -->
	  <div class="operation-lower">
		<h3 style="margin: 0 0 10px 0; text-align: center;">Current Animation</h3>
		
		<!-- Dropdown to manually select operations -->
		<div class="dropdown">
		  <button class="dropdown-btn" onclick="toggleDropdown()">Select Options</button>
		  <div id="options" class="dropdown-content">
			<label><input type="checkbox" value="RotationR"> Right Rotation</label>
			<label><input type="checkbox" value="RotationL"> Left Rotation</label>
			<label><input type="checkbox" value="ZoomIn"> Zoom in</label>
			<label><input type="checkbox" value="ZoomOut"> Zoom out</label>
			<label><input type="checkbox" value="BouncingTR"> Bouncing top right</label>
			<label><input type="checkbox" value="BouncingBL"> Bouncing bottom left</label>
			<label><input type="checkbox" value="BouncingTL"> Bouncing top left</label>
			<label><input type="checkbox" value="BouncingBR"> Bouncing bottom right</label>
		  </div>
		</div>
	
		<!-- Preview of selected operations -->
		<div id="selected-op" class="selected-items"></div>
	
		<!-- Start and Restart buttons -->
		<div class="start-restart-btn">
		  <input id="start-btn" class="anim-btn" type="button" value="Start/Pause">
		  <input id="restart-btn" class="anim-btn" type="button" value="Restart">
		</div>
	  </div>
  </div>

	<!-- This need to include here as the loading should be slower than the html above, change will baozha -->
  <script src="ProjectStyle.js"></script>
  <script src="TVlogo_3D.js"></script>
</body>

</html>

